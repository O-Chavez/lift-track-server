(this["webpackJsonplift-tracker"]=this["webpackJsonplift-tracker"]||[]).push([[0],{197:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(14),i=n.n(r),o=n(4),l=n.n(o),d=n(9),u=n(2),j=n(8),b=n(5),h=n(70),p=n(71);function x(){var e=Object(h.a)(["\nhtml, body, #root{\n  // max-height: 100%;\n  // overflow: hidden;\n  // height: 100%;\n\n}\n\n .App {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 55px auto 100px;\n    // box-sizing: border-box;\n    min-height: 100vh;\n    // height: 100%\n\n    // overflow: scroll;\n\n}\n\n.MainContent {\n  grid-row-start: 2;\n  margin-top: 1em;\n}\n\n.page {\n  position: absolute;\n  // left: 0;\n  // right: 0;\n  // bottom: 0;\n}\n\n// .collapsed {\n//   // display: none;\n//   overflow: hidden;\n//   tranisition: max-height 3.9s ease;\n// }\n\n\n\n.fade-appear,\n.fade-enter {\n  position: absolute;\n  opacity: 0;\n  // z-indez: 10;\n  width: 100%;\n}\n.fade-appear-active,\n.fade-enter.fade-enter-active {\n  opacity: 1;\n  // position: absolute;\n  transition: opacity 300ms linear 150ms;\n\n}\n\n.fade-exit {\n  opacity: 1;\n  position: absolute;\n  width: 100%\n}\n.fade-exit.fade-exit-active {\n  opacity: 0;\n  // position: absolute;\n  transition: opacity 150ms linear;\n}\n\ncanvas {\n  height: 100%;\n  display: flex;\n}\n\n// body {\n//   background-color: #f7f7f7\n// }\n\nh2 {\n  font-weight: 600\n}\n\nh5 {\n  font-weight: 500\n}\n"]);return x=function(){return e},e}var m=Object(p.a)(x()),f="https://the-lift-tracker.herokuapp.com",O=s.a.createContext(null),g=function(e){for(var t=e.postsPerPage,n=e.totalPosts,a=e.paginate,s=[],r=1;r<=Math.ceil(n/t);r++)s.push(r);return Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{className:"pagination ml-1 mt-3",children:s.map((function(e){return Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{onClick:function(){return a(e)},href:"!#",className:"page-link bg-dark text-white",children:e})},e)}))})})};function v(e){var t=e.currentPosts,n=e.postsPerPage,a=e.paginate,s=e.userLifts;return console.log(s),s.length<1?Object(c.jsxs)("div",{className:"jumbotron mx-0 pb-0",children:[Object(c.jsx)("div",{className:"display-4 ml-3",children:"Let's get started!"}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"container pb-5",children:"It doesn't look like you have any tracked lifts yet... Add one now and start tracking progress!"})]}):Object(c.jsxs)("div",{className:"jumbotron mx-0 pb-0",children:[Object(c.jsx)("div",{className:"display-4 ml-3",children:"Tracked lifts"}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"list-group container",children:[t.map((function(e){return Object(c.jsx)(j.b,{to:{pathname:"/lifts",liftId:e._id},className:"list-group-item bg-dark text-white list-group-item-action list-group-item-dark mt-2",style:{borderRadius:"5px",boxShadow:"2px 3px #888888"},children:e.liftname},e._id)})),Object(c.jsx)(g,{postsPerPage:n,totalPosts:s.length,paginate:a})]})})]})}var k=n(6),N=n.n(k);function y(){var e=Object(a.useContext)(O).userData,t=Object(a.useState)([]),n=Object(u.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(u.a)(i,2),h=o[0],p=o[1];Object(a.useEffect)((function(){var t={headers:{"x-auth-token":e.token}};(function(){var e=Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(f,"/lifts"),t);case 2:200===(n=e.sent).status&&p(!0),r(n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),void 0===e.token&&x.push("/login")}),[e]);var x=Object(b.f)(),m=Object(a.useState)(1),g=Object(u.a)(m,2),k=g[0],y=g[1],w=Object(a.useState)(5),C=Object(u.a)(w,1)[0],S=Object(a.useState)(!1),D=Object(u.a)(S,2),L=(D[0],D[1],k*C),W=L-C,P=s.slice(W,L);return h?Object(c.jsx)("div",{className:"",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h2",{children:"Lets get a good lift in!"}),Object(c.jsx)(j.b,{to:"/newLift",className:"btn btn-primary btn-med",children:"Add new Lift"}),Object(c.jsx)("hr",{}),Object(c.jsx)(v,{currentPosts:P,totalPosts:s.length,postsPerPage:C,paginate:function(e){return y(e)},userLifts:s})]})}):Object(c.jsx)("div",{className:"h-100 w-100 justify-content-center align-items-center",style:{display:"flex"},children:Object(c.jsx)("div",{style:{width:"25em",height:"25em"},className:"spinner-grow text-center",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})})}var w=function(){var e=Object(a.useContext)(O).userData,t=Object(a.useState)(),n=Object(u.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(b.f)(),h={liftdate:l,liftname:s};return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"container h-100",children:[Object(c.jsx)("h3",{children:"Add new lift..."}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:"Lift Name"})}),Object(c.jsx)("input",{placeholder:"Bench...",type:"text",className:"form-control",onChange:function(e){return r(e.target.value)}})]}),Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:"Date"})}),Object(c.jsx)("input",{type:"date",onChange:function(e){return d(e.target.value)}})]}),Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(t){return function(t){t.preventDefault();var n={headers:{"x-auth-token":e.token}};N.a.post("".concat(f,"/lifts/add"),h,n),j.push("/")}(t)},children:"Create new Lift"})]})]})})},C=n(19),S=n.n(C),D=n(75),L=function(e){var t=e.currentPosts,n=[],a=[];t.forEach((function(e){var t=S()(e.liftDate).format("MMM DD, YYYY");n.push(t),a.push(e.liftWeight)}));var s={labels:n,datasets:[{label:"Weight",data:a,borderColor:"black",borderWidth:2,backgroundColor:"rgba(16, 77, 162, 0.56)"}]};return t.length<1?Object(c.jsx)("div",{children:"No workouts found... yet... Add one and start tracking now!"}):Object(c.jsx)("div",{className:"chart-container",children:Object(c.jsx)(D.Line,{data:s,height:300,options:{scales:{xAxes:[{ticks:{fontSize:10}}],yAxes:[{ticks:{lineHeight:1.2,fontSize:12}}]},title:{display:!0,text:"Lift Progress Over Time",fontSize:25},legend:{display:!0,position:"bottom"},maintainAspectRatio:!1}})})},W=function(e){var t=e.open,n=e.onClose,a=e.workoutDetails,s=e.userData,r=e.currentLift,o=e.optimisticWorkoutRemoved,u=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N()({url:"".concat(f,"/workouts/delete/").concat(a._id),headers:{"x-auth-token":s.token},method:"delete",data:{liftId:r}});case 2:n(),o(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=S()(a.liftDate).format("MMM D, YYYY");return t?i.a.createPortal(Object(c.jsx)("div",{style:{position:"fixed",zIndex:60,left:0,top:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)"},className:"h-100 d-flex justify-content-center align-items-center",children:Object(c.jsxs)("div",{className:"card mx-3",tabIndex:"-1",children:[Object(c.jsxs)("div",{className:"card-header",children:["Delete Workout",Object(c.jsx)("button",{onClick:n,className:"close","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title",children:"Are you sure you want to delete this Workout?"}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h6",{children:["Lift Date: ",j]}),Object(c.jsxs)("h6",{children:["Lift Weight: ",a.liftWeight]})]}),Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("hr",{}),Object(c.jsx)("button",{onClick:n,type:"button",className:"mr-2 btn btn-secondary",children:"Cancel"}),Object(c.jsx)("button",{onClick:u,className:"ml-2 btn btn-danger",children:"Delete Workout"})]})]})]})}),document.querySelector("#modal")):null},P=function(e){var t=e.open,n=e.onClose,a=e.liftDetails,s=e.userData,r=Object(b.f)();return t?i.a.createPortal(Object(c.jsx)("div",{style:{position:"fixed",zIndex:60,left:0,top:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)"},className:"h-100 d-flex justify-content-center align-items-center",children:Object(c.jsxs)("div",{className:"card mx-3",tabIndex:"-1",children:[Object(c.jsxs)("div",{className:"card-header",children:["Edit Lift",Object(c.jsx)("button",{onClick:n,className:"close","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title",children:"Do you want to Edit or Delete this Lift?"}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("button",{onClick:function(){N()({url:"".concat(f,"/lifts/delete/").concat(a._id),headers:{"x-auth-token":s.token},method:"delete"}),r.push("/")},className:"btn btn-danger",children:"Delete Lift"}),Object(c.jsx)(j.b,{to:{pathname:"/editlift",liftDetails:a},type:"button",className:"ml-3\r btn btn-dark",children:"Edit Lift"})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("button",{onClick:n,type:"button",className:"mr-2 btn btn-secondary",children:"Cancel"})]})]})}),document.querySelector("#modal")):null},I=function(e){var t=e.currentLift,n=e.userData,s=e.onOpen,r=e.onClose,i=e.confirmWorkoutAdded,o=e.optimisticWorkout,j=Object(a.useState)(""),b=Object(u.a)(j,2),h=b[0],p=b[1],x=Object(a.useState)(""),m=Object(u.a)(x,2),O=m[0],g=m[1],v=Object(a.useState)(""),k=Object(u.a)(v,2),y=k[0],w=k[1],C=Object(a.useState)(""),S=Object(u.a)(C,2),D=S[0],L=S[1],W=function(){var e=Object(d.a)(l.a.mark((function e(c){var a,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),a={liftDate:h,liftSets:O,liftReps:y,liftWeight:D},s={liftdate:h,liftsets:O,liftreps:y,liftweight:D},e.next=5,N()({url:"/".concat(t._id),method:"post",headers:{"x-auth-token":n.token},baseURL:"".concat(f,"/lifts/update/"),data:s});case 5:d=e.sent,o(a),r(),i(d.status);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?Object(c.jsxs)("div",{className:"card bg-light border-dark mt-2",children:[Object(c.jsx)("button",{onClick:r,className:"close mt-3","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("form",{className:"container",children:[Object(c.jsxs)("div",{className:"input-group mb-3 ",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:"Date"})}),Object(c.jsx)("input",{onChange:function(e){return p(e.target.value)},className:"form-control",name:"lift",type:"date"})]}),Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:"Sets"})}),Object(c.jsx)("input",{onChange:function(e){return g(e.target.value)},className:"form-control",name:"lift",type:"number"})]}),Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:"Reps"})}),Object(c.jsx)("input",{onChange:function(e){return w(e.target.value)},className:"form-control",type:"number"})]}),Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:"Weight"})}),Object(c.jsx)("input",{onChange:function(e){return L(e.target.value)},className:"form-control",type:"number"})]}),Object(c.jsx)("button",{onClick:function(e){return W(e)},className:"btn btn-primary",children:"+"})]})})]}):null},A=function(e){var t=e.currentPosts,n=e.openDeleteWorkoutModel,a=e.deleteableWorkout,s=e.deleteClicked;return t.length<1?null:Object(c.jsxs)("table",{className:"table table-sm table-borderless table-dark mb-2",style:{boxShadow:"2px 3px #666666",borderRadius:"5px"},children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Date"}),Object(c.jsx)("th",{scope:"col",children:"Weight"}),Object(c.jsx)("th",{scope:"col",children:"Sets"}),Object(c.jsx)("th",{scope:"col",children:"Reps"}),Object(c.jsx)("th",{scope:"col",children:"Change"})]})}),Object(c.jsx)("tbody",{children:function(e){return e.map((function(e,t){var r=S()(e.liftDate).format("MMM D, YYYY");return Object(c.jsxs)("tr",{style:{borderTop:"2px solid #888888"},children:[Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:e.liftWeight}),Object(c.jsx)("td",{children:e.liftSets}),Object(c.jsx)("td",{children:e.liftReps}),Object(c.jsx)("td",{children:e._id?Object(c.jsx)("button",{onClick:function(){return function(e){n(),s(),a(e)}(e)},className:"btn btn-outline-danger",children:"delete"}):Object(c.jsx)("div",{class:"spinner-border mx-3",role:"status",children:Object(c.jsx)("span",{class:"sr-only",children:"Loading..."})})})]},e._id)}))}(t)})]})};function z(){return Object(c.jsxs)("div",{style:{height:"100%",background:"#292b2c",fontSize:".7rem",position:"relative"},children:[Object(c.jsx)("div",{style:{padding:"5px",height:"75px",width:"100%",textAlign:"center",top:"0"},className:"text-white-50 d-flex align-items-center justify-content-center",children:Object(c.jsxs)("p",{className:"text-center",children:[Object(c.jsx)("i",{children:"\u201cStrength does not come from winning. Your struggles develop your strengths. When you go through hardships and decide not to surrender, that is strength.\u201d"}),"- Arnold Schwarzenegger"]})}),Object(c.jsx)("div",{style:{padding:"5px",position:"absolute",textAlign:"center",width:"100%",bottom:"0",backgroundColor:"#3f484f"},children:Object(c.jsx)("a",{className:"text-white-50",href:"http://www.oscarchavez.com",target:"_blank",rel:"noreferrer",children:"www.OscarChavez.com"})})]})}function M(e){var t=Object(a.useState)({}),n=Object(u.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)([]),o=Object(u.a)(i,2),j=o[0],h=o[1],p=Object(a.useContext)(O).userData,x=Object(a.useState)(!1),m=Object(u.a)(x,2),v=m[0],k=m[1],y=Object(a.useState)({}),w=Object(u.a)(y,2),C=w[0],S=w[1],D=Object(a.useState)(!1),z=Object(u.a)(D,2),M=z[0],E=z[1],Y=Object(a.useState)(!1),_=Object(u.a)(Y,2),R=_[0],q=_[1],H=Object(a.useState)(!1),U=Object(u.a)(H,2),B=U[0],T=U[1],G=Object(a.useState)(!1),V=Object(u.a)(G,2),J=(V[0],V[1]),F=Object(a.useState)(""),K=Object(u.a)(F,2),Q=K[0],X=K[1],Z=Object(b.f)(),$=Object(a.useState)(1),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ce=Object(a.useState)(5),ae=Object(u.a)(ce,1)[0],se=te*ae,re=se-ae,ie=j.slice(re,se);Object(a.useEffect)((function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.location.liftId,t.next=3,N()({url:"".concat(f,"/lifts/").concat(n),headers:{"x-auth-token":p.token}});case 3:c=t.sent,r(c.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),function(){var t=Object(d.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N()({baseURL:"".concat(f,"/workouts/").concat(e.location.liftId),headers:{"x-auth-token":p.token}});case 2:200===(n=t.sent).status&&X(!0),c=n.data.sort((function(e,t){return e.liftDate<t.liftDate?1:-1})),h(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),void 0===p.token&&Z.push("/login")}),[e.location.liftId,p.token,B]);return Q?Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"container mb-5",children:[Object(c.jsx)(W,{open:v,onClose:function(){return k(!1)},workoutDetails:C,userData:p,currentLift:s._id,optimisticWorkoutRemoved:function(e){return function(e){var t=j.map((function(e){return e._id})).indexOf(e._id);j.splice(t,1),J(!0)}(e)}}),Object(c.jsx)(P,{open:M,onClose:function(){return E(!1)},liftDetails:s,userData:p}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h3",{children:[s.liftname," - Lift Details "]}),Object(c.jsx)("button",{className:"btn btn-primary float-right",onClick:function(){return q(!0),void T(!1)},children:"Add workout"}),Object(c.jsxs)("button",{onClick:function(){return Z.push("/")},className:"btn btn-secondary ml-2 ",children:[Object(c.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-arrow-left-square-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{"fill-rule":"evenodd",d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm9.5 8.5a.5.5 0 0 0 0-1H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H11.5z"})})," Back"]}),Object(c.jsx)("button",{onClick:function(){return E(!0)},className:"btn btn-dark mr-2 float-right",children:"Edit Lift"}),Object(c.jsx)("hr",{})]}),Object(c.jsx)("div",{children:Object(c.jsx)(I,{onOpen:R,onClose:function(){q(!1)},currentLift:s,userData:p,confirmWorkoutAdded:function(e){return function(e){200===e&&T(!0)}(e)},optimisticWorkout:function(e){return j.unshift(e)}})}),Object(c.jsxs)("div",{className:"jumbotron px-2 mb-0 pb-0",children:[Object(c.jsx)("h6",{className:"display-4 ml-4",children:"Workouts"}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"".concat(Q?"":"collapsed"),children:[Object(c.jsx)("div",{className:"panel panel-default",children:Object(c.jsx)(A,{currentPosts:ie,deleteableWorkout:S,openDeleteWorkoutModel:function(){return k(!0)},deleteClicked:function(){return J(!1)}})}),Object(c.jsx)(g,{postsPerPage:ae,totalPosts:j.length,paginate:function(e){return ne(e)}}),Object(c.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(c.jsx)(L,{currentPosts:ie,update:!0})})]})]})]})}):Object(c.jsxs)("div",{className:"h-100 text-center d-flex flex-column justify-content-center my-auto align-self-center",children:[Object(c.jsx)("h4",{className:"my-5",children:"Getting your workouts..."}),Object(c.jsx)("div",{className:"h-100",children:Object(c.jsx)("div",{style:{width:"20em",height:"20em"},className:"spinner-grow text-center",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})})]})}var E=function(e){var t=Object(a.useState)({}),n=Object(u.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(""),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(a.useContext)(O).userData,h=Object(b.f)();Object(a.useEffect)((function(){r(e.location.liftDetails)}),[e]);return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"card container",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h3",{children:"Edit Lift"}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:"Edit Lift Name"})}),Object(c.jsx)("input",{placeholder:s.liftname,type:"text",className:"form-control",onChange:function(e){return d(e.target.value)}})]}),Object(c.jsxs)("button",{onClick:function(){return h.push("/")},className:"btn btn-secondary mr-2 ",children:[Object(c.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-arrow-left-square-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{"fill-rule":"evenodd",d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm9.5 8.5a.5.5 0 0 0 0-1H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H11.5z"})})," Go Back"]}),Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(e){return function(e){e.preventDefault();var t={headers:{"x-auth-token":j.token}};N.a.put("".concat(f,"/lifts/edit/").concat(s._id),{liftname:l},t),h.push("/")}(e)},children:"Confirm Edit"})]})]})})})},Y=function(){var e=Object(b.f)(),t=Object(a.useContext)(O),n=t.userData,s=t.setUserData;return Object(c.jsx)("div",{className:"navbar navbar-dark bg-dark",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(j.b,{to:"/",className:"navbar-brand",children:Object(c.jsx)("u",{children:"Lift Tracker"})}),n.user?Object(c.jsx)("button",{onClick:function(){window.gapi.auth2.getAuthInstance().signOut(),s({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),e.push("/login")},className:"btn btn-primary",children:"Sign Out"}):Object(c.jsx)("button",{onClick:function(){return e.push("/login")},className:"btn btn-primary",children:"Sign in"})]})})},_=function(){var e=Object(b.f)(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(u.a)(i,2),j=o[0],h=o[1],p=Object(a.useContext)(O),x=p.userData,m=p.setUserData;Object(a.useEffect)((function(){window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:"1077904608925-4tg6bgj0o85bntc1i68kt6crvpqgqa7v.apps.googleusercontent.com",scope:"profile email"})}))}),[]);var g=function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=window.gapi.auth2.getAuthInstance()).signIn().then(Object(d.a)(l.a.mark((function t(){var c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.currentUser.get().getBasicProfile().getEmail();case 2:return t.t0=t.sent,t.next=5,n.currentUser.get().getId();case 5:return t.t1=t.sent,c={username:t.t0,password:t.t1},r(!0),t.next=10,N.a.post("".concat(f,"/users/signin"),c);case 10:a=t.sent,m({token:a.data.token,user:a.data.user}),200===a.status&&h(!0),e.push("/");case 14:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();console.log(s);return s?Object(c.jsxs)("div",{className:"h-100 text-center d-flex flex-column justify-content-center my-auto align-self-center",children:[j?Object(c.jsx)("h4",{className:"mb-4",children:"Welcome!"}):Object(c.jsx)("h4",{className:"mb-4",children:"Loading..."}),Object(c.jsx)("div",{className:"h-100 w-100 justify-content-center align-items-center",children:Object(c.jsx)("div",{style:{width:"20em",height:"20em"},className:"spinner-grow text-center",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})})]}):void 0===x.token?Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"container h-100 mt-5 d-flex justify-content-center align-items-center",children:Object(c.jsx)("div",{className:"mt-5 card text-center text-white bg-dark mx-auto",children:Object(c.jsxs)("div",{className:"card-body h-100 d-flex justify-content-center align-items-center",style:{flexDirection:"column"},children:[Object(c.jsx)("h1",{className:"card-title",children:"Welcome to LiftTracker!"}),Object(c.jsx)("h5",{children:"Create workouts and track your progress over time."}),Object(c.jsx)("p",{className:"card-text",children:"Sign in to start tracking your lifts!"}),Object(c.jsx)("button",{onClick:g,className:"btn btn-primary",style:{height:"4em"},children:"Sign-in or create an account with Google"})]})})})}):Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){window.gapi.auth2.getAuthInstance().signOut().then((function(){m({token:void 0,user:void 0}),localStorage.setItem("auth-token","")})),e.push("/login")},className:"btn btn-primary",children:"Welcome "})})},R=n(200),q=n(199),H=function(){var e=Object(a.useState)({token:void 0,user:void 0}),t=Object(u.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,N.a.post("".concat(f,"/users/tokenIsValid"),null,{headers:{"x-auth-token":t}});case 4:e.sent.data&&(n=N.a.get("".concat(f,"/users/"),{headers:{"x-auth-token":t}}),s({token:t,user:n.data}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(j.a,{children:Object(c.jsxs)(O.Provider,{value:{userData:n,setUserData:s},children:[Object(c.jsx)(Y,{}),Object(c.jsx)(b.a,{render:function(e){var t=e.location;return Object(c.jsx)(R.a,{className:"MainContent",children:Object(c.jsx)(q.a,{timeout:300,classNames:"fade",children:Object(c.jsxs)(b.c,{location:t,children:[Object(c.jsx)(b.a,{path:"/",exact:!0,component:y}),Object(c.jsx)(b.a,{path:"/login",component:_}),Object(c.jsx)(b.a,{path:"/newlift",component:w}),Object(c.jsx)(b.a,{path:"/lifts",component:M}),Object(c.jsx)(b.a,{path:"/editlift",component:E})]})},t.key)})}}),Object(c.jsx)(m,{})]})}),Object(c.jsx)(z,{})]})};i.a.render(Object(c.jsx)(H,{}),document.querySelector("#root"))}},[[197,1,2]]]);
//# sourceMappingURL=main.02c267ef.chunk.js.map